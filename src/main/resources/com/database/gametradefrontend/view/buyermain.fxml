<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<AnchorPane fx:id="rootPane" prefHeight="700.0" prefWidth="1100.0"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.database.gametradefrontend.controller.BuyerMainController"
            stylesheets="@styles/buyermain.css">
   
   <!-- È°∂ÈÉ®ÂìÅÁâåÊ†è - Ê∏êÂèòÊµÖÁ≤âËâ≤ -->
   <HBox alignment="CENTER" styleClass="brand-toolbar"
         AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
      
      <!-- ÂìÅÁâåÂå∫Âüü -->
      <HBox alignment="CENTER" HBox.hgrow="ALWAYS" spacing="8">
         <Label text="üéÆ" styleClass="brand-icon"/>
         <Label text="GameTrade" styleClass="brand-title"/>
      </HBox>
   </HBox>
   
   <!-- ‰∏ªÂÜÖÂÆπÂå∫Âüü -->
   <VBox alignment="TOP_CENTER" spacing="0" styleClass="main-content"
         AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" 
         AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="40.0">
      
      <!-- ÂØºËà™Ê†è - Â∑¶‰æßÂäüËÉΩÂØºËà™ÔºåÂè≥‰æßÁî®Êà∑Êìç‰Ωú -->
      <HBox alignment="CENTER_LEFT" styleClass="navbar">
         <!-- Â∑¶‰æßÂäüËÉΩÂØºËà™ -->
         <HBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS" spacing="0">
            <Button fx:id="dashboardButton" mnemonicParsing="false" onAction="#showDashboard"
                    styleClass="nav-button, active">
               <text>üè† È¶ñÈ°µ</text>
            </Button>
            
            <Button fx:id="tradeButton" mnemonicParsing="false" onAction="#handleTrade"
                    styleClass="nav-button">
               <text>üõí ‰∫§Êòì</text>
            </Button>
            
            <Button fx:id="collectionButton" mnemonicParsing="false" onAction="#handleCollection"
                    styleClass="nav-button">
               <text>üìö Êî∂Ëóè</text>
            </Button>
            
            <MenuButton fx:id="orderButton" styleClass="nav-button" text="üìä ËÆ¢Âçï">
               <items>
                  <MenuItem text="‰∫§ÊòìËÆ∞ÂΩï" onAction="#handleHistory"/>
                  <MenuItem text="ËÆ¢ÂçïÁÆ°ÁêÜ" onAction="#handleOrderManagement"/>
                  <MenuItem text="ÈÄÄÊ¨æÁî≥ËØ∑" onAction="#handleRefundRequest"/>
               </items>
            </MenuButton>
            
            <MenuButton fx:id="reviewButton" styleClass="nav-button" text="‚≠ê ËØÑ‰ª∑">
               <items>
                  <MenuItem text="ÊàëÁöÑËØÑ‰ª∑" onAction="#handleMyReviews"/>
                  <MenuItem text="ÂèëÂ∏ÉËØÑ‰ª∑" onAction="#handlePostReview"/>
                  <MenuItem text="ËØÑ‰ª∑ÁªüËÆ°" onAction="#handleReviewStats"/>
               </items>
            </MenuButton>
            
            <MenuButton fx:id="messageButton" styleClass="nav-button" text="üîî Ê∂àÊÅØ">
               <items>
                  <MenuItem text="Á≥ªÁªüÈÄöÁü•" onAction="#handleSystemMessages"/>
                  <MenuItem text="‰∫§ÊòìÊ∂àÊÅØ" onAction="#handleTradeMessages"/>
                  <MenuItem text="ÁßÅ‰ø°" onAction="#handlePrivateMessages"/>
               </items>
            </MenuButton>
            
            <MenuButton fx:id="settingsButton" styleClass="nav-button" text="‚öôÔ∏è ËÆæÁΩÆ">
               <items>
                  <MenuItem text="Ë¥¶Êà∑ËÆæÁΩÆ" onAction="#handleAccountSettings"/>
                  <MenuItem text="ÈöêÁßÅËÆæÁΩÆ" onAction="#handlePrivacySettings"/>
                  <MenuItem text="ÈÄöÁü•ËÆæÁΩÆ" onAction="#handleNotificationSettings"/>
               </items>
            </MenuButton>
         </HBox>
         
         <!-- Âè≥‰æßÁî®Êà∑Êìç‰ΩúÂå∫Âüü -->
         <HBox alignment="CENTER_RIGHT" spacing="8">
            <!-- ÈÄöÁü•ÂõæÊ†á -->
            <Button fx:id="notificationButton" mnemonicParsing="false" styleClass="user-action-button">
               <text>üîî</text>
            </Button>
            
            <!-- ‰∏™‰∫∫‰ø°ÊÅØÂõæÊ†á -->
            <MenuButton fx:id="personalInfoButton" mnemonicParsing="false" styleClass="user-action-button">
               <text>üë§</text>
               <items>
                  <MenuItem text="Êü•Áúã‰∏™‰∫∫‰ø°ÊÅØ" onAction="#handleViewPersonalInfo"/>
                  <MenuItem text="ÁºñËæë‰∏™‰∫∫‰ø°ÊÅØ" onAction="#handleEditPersonalInfo"/>
               </items>
            </MenuButton>
         </HBox>
      </HBox>
      
      <!-- ÂÜÖÂÆπÊòæÁ§∫Âå∫Âüü -->
      <VBox fx:id="contentArea" alignment="TOP_CENTER" spacing="20" 
            styleClass="content-area" VBox.vgrow="ALWAYS">
         
         <!-- ÈªòËÆ§ÊòæÁ§∫È¶ñÈ°µ‰ª™Ë°®Êùø -->
         <VBox fx:id="dashboardContent" alignment="TOP_CENTER" spacing="30" styleClass="dashboard-content">
            <!-- Ê¨¢ËøéÂå∫Âüü -->
            <VBox alignment="CENTER" spacing="10" styleClass="welcome-section">
               <Label fx:id="welcomeLabel" styleClass="welcome-title"/>
               <Label text="Âú®ËøôÈáåÁÆ°ÁêÜÊÇ®ÁöÑÊ∏∏Êàè‰∫§ÊòìÂíåÊî∂Ëóè" styleClass="welcome-subtitle"/>
            </VBox>
            
            <!-- Á´ñÂêëÂäüËÉΩÂç°ÁâáÂÆπÂô® -->
            <FlowPane fx:id="functionCardsContainer" alignment="TOP_CENTER" hgap="20" vgap="20" 
                     prefWrapLength="800" styleClass="function-cards-container">
               
               <!-- Ê∏∏Êàè‰∫§ÊòìÂç°Áâá -->
               <VBox styleClass="function-card">
                  <VBox alignment="CENTER" spacing="15">
                     <Label text="üõí" styleClass="function-icon"/>
                     <Label text="Ê∏∏Êàè‰∫§Êòì" styleClass="function-title"/>
                     <Label text="ÊµèËßàÂíåË¥≠‰π∞ÊÇ®ÂñúÊ¨¢ÁöÑÊ∏∏Êàè" styleClass="function-description" wrapText="true"/>
                     <Button fx:id="quickTradeButton" mnemonicParsing="false" onAction="#handleTrade"
                             styleClass="function-button">
                        <text>ÂºÄÂßã‰∫§Êòì</text>
                     </Button>
                  </VBox>
               </VBox>
               
               <!-- ÊàëÁöÑÊî∂ËóèÂç°Áâá -->
               <VBox styleClass="function-card">
                  <VBox alignment="CENTER" spacing="15">
                     <Label text="üìö" styleClass="function-icon"/>
                     <Label text="ÊàëÁöÑÊî∂Ëóè" styleClass="function-title"/>
                     <Label text="ÁÆ°ÁêÜÊÇ®Êî∂ËóèÁöÑÊ∏∏ÊàèÂíåÂøÉÊÑøÂçï" styleClass="function-description" wrapText="true"/>
                     <Button fx:id="quickCollectionButton" mnemonicParsing="false" onAction="#handleCollection"
                             styleClass="function-button">
                        <text>Êü•ÁúãÊî∂Ëóè</text>
                     </Button>
                  </VBox>
               </VBox>
               
               <!-- ‰∫§ÊòìËÆ∞ÂΩïÂç°Áâá -->
               <VBox styleClass="function-card">
                  <VBox alignment="CENTER" spacing="15">
                     <Label text="üìä" styleClass="function-icon"/>
                     <Label text="‰∫§ÊòìËÆ∞ÂΩï" styleClass="function-title"/>
                     <Label text="Êü•ÁúãÊÇ®ÁöÑ‰∫§ÊòìÂéÜÂè≤ÂíåËÆ¢ÂçïËØ¶ÊÉÖ" styleClass="function-description" wrapText="true"/>
                     <Button fx:id="quickHistoryButton" mnemonicParsing="false" onAction="#handleHistory"
                             styleClass="function-button">
                        <text>Êü•ÁúãËÆ∞ÂΩï</text>
                     </Button>
                  </VBox>
               </VBox>
               
               <!-- ËØÑ‰ª∑ÁÆ°ÁêÜÂç°Áâá -->
               <VBox styleClass="function-card">
                  <VBox alignment="CENTER" spacing="15">
                     <Label text="‚≠ê" styleClass="function-icon"/>
                     <Label text="ËØÑ‰ª∑ÁÆ°ÁêÜ" styleClass="function-title"/>
                     <Label text="Êü•ÁúãÂíåÂèëÂ∏ÉÊ∏∏ÊàèËØÑ‰ª∑" styleClass="function-description" wrapText="true"/>
                     <Button fx:id="quickReviewButton" mnemonicParsing="false" onAction="#handleReview"
                             styleClass="function-button">
                        <text>ÁÆ°ÁêÜËØÑ‰ª∑</text>
                     </Button>
                  </VBox>
               </VBox>
               
               <!-- Ê∂àÊÅØ‰∏≠ÂøÉÂç°Áâá -->
               <VBox styleClass="function-card">
                  <VBox alignment="CENTER" spacing="15">
                     <Label text="üîî" styleClass="function-icon"/>
                     <Label text="Ê∂àÊÅØ‰∏≠ÂøÉ" styleClass="function-title"/>
                     <Label text="Êü•ÁúãÁ≥ªÁªüÈÄöÁü•Âíå‰∫§ÊòìÊ∂àÊÅØ" styleClass="function-description" wrapText="true"/>
                     <Button fx:id="quickMessageButton" mnemonicParsing="false" onAction="#handleMessage"
                             styleClass="function-button">
                        <text>Êü•ÁúãÊ∂àÊÅØ</text>
                     </Button>
                  </VBox>
               </VBox>
               
               <!-- Á≥ªÁªüËÆæÁΩÆÂç°Áâá -->
               <VBox styleClass="function-card">
                  <VBox alignment="CENTER" spacing="15">
                     <Label text="‚öôÔ∏è" styleClass="function-icon"/>
                     <Label text="Á≥ªÁªüËÆæÁΩÆ" styleClass="function-title"/>
                     <Label text="‰∏™ÊÄßÂåñËÆæÁΩÆÂíåË¥¶Êà∑ÁÆ°ÁêÜ" styleClass="function-description" wrapText="true"/>
                     <Button fx:id="quickSettingsButton" mnemonicParsing="false" onAction="#handleSettings"
                             styleClass="function-button">
                        <text>Á≥ªÁªüËÆæÁΩÆ</text>
                     </Button>
                  </VBox>
               </VBox>
            </FlowPane>
            
            <!-- Âø´ÈÄüÁªüËÆ°‰ø°ÊÅØ -->
            <HBox alignment="CENTER" spacing="30" styleClass="stats-section">
               <VBox alignment="CENTER" spacing="5" styleClass="stat-card">
                  <Label text="0" styleClass="stat-number"/>
                  <Label text="ÂæÖÂ§ÑÁêÜËÆ¢Âçï" styleClass="stat-label"/>
               </VBox>
               
               <VBox alignment="CENTER" spacing="5" styleClass="stat-card">
                  <Label text="0" styleClass="stat-number"/>
                  <Label text="Êî∂ËóèÊ∏∏Êàè" styleClass="stat-label"/>
               </VBox>
               
               <VBox alignment="CENTER" spacing="5" styleClass="stat-card">
                  <Label text="0" styleClass="stat-number"/>
                  <Label text="Êú™ËØªÊ∂àÊÅØ" styleClass="stat-label"/>
               </VBox>
               
               <VBox alignment="CENTER" spacing="5" styleClass="stat-card">
                  <Label text="0" styleClass="stat-number"/>
                  <Label text="ÂæÖËØÑ‰ª∑ËÆ¢Âçï" styleClass="stat-label"/>
               </VBox>
            </HBox>
         </VBox>
      </VBox>
   </VBox>
   
   <!-- ‰∏™‰∫∫‰ø°ÊÅØÊü•ÁúãÂØπËØùÊ°Ü -->
   <DialogPane fx:id="personalInfoDialog" visible="false"
               styleClass="modal-dialog"
               AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" 
               AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
      <content>
         <VBox spacing="20" alignment="CENTER" style="-fx-padding: 20;">
            <Label text="‰∏™‰∫∫‰ø°ÊÅØ" styleClass="modal-title"/>
            
            <VBox spacing="15" styleClass="modal-content">
               <HBox spacing="10" alignment="CENTER_LEFT">
                  <Label text="Ë¥¶Âè∑Ôºö" styleClass="user-info-label" prefWidth="80"/>
                  <Label fx:id="dialogAccount" styleClass="user-info-value"/>
               </HBox>
               
               <HBox spacing="10" alignment="CENTER_LEFT">
                  <Label text="ËßíËâ≤Ôºö" styleClass="user-info-label" prefWidth="80"/>
                  <Label fx:id="dialogRole" styleClass="user-info-value"/>
               </HBox>
               
               <!-- ‰π∞ÂÆ∂‰ø°ÊÅØÂ≠óÊÆµ -->
               <HBox spacing="10" alignment="CENTER_LEFT">
                  <Label text="ÊòµÁß∞Ôºö" styleClass="user-info-label" prefWidth="80"/>
                  <Label fx:id="dialogNickname" styleClass="user-info-value"/>
               </HBox>
               
               <HBox spacing="10" alignment="CENTER_LEFT">
                  <Label text="ËÅîÁ≥ªÊñπÂºèÔºö" styleClass="user-info-label" prefWidth="80"/>
                  <Label fx:id="dialogContact" styleClass="user-info-value"/>
               </HBox>
               
               <HBox spacing="10" alignment="CENTER_LEFT">
                  <Label text="ÁîüÊó•Ôºö" styleClass="user-info-label" prefWidth="80"/>
                  <Label fx:id="dialogBirthday" styleClass="user-info-value"/>
               </HBox>
               
               <!-- ÂéÇÂïÜ‰ø°ÊÅØÂ≠óÊÆµ -->
               <HBox spacing="10" alignment="CENTER_LEFT">
                  <Label text="‰ºÅ‰∏öÂêçÁß∞Ôºö" styleClass="user-info-label" prefWidth="80"/>
                  <Label fx:id="dialogCompanyName" styleClass="user-info-value"/>
               </HBox>
               
               <HBox spacing="10" alignment="CENTER_LEFT">
                  <Label text="Ê≥®ÂÜåÂú∞ÂùÄÔºö" styleClass="user-info-label" prefWidth="80"/>
                  <Label fx:id="dialogRegisteredAddress" styleClass="user-info-value"/>
               </HBox>
               
               <HBox spacing="10" alignment="CENTER_LEFT">
                  <Label text="ËÅîÁ≥ª‰∫∫Ôºö" styleClass="user-info-label" prefWidth="80"/>
                  <Label fx:id="dialogContactPerson" styleClass="user-info-value"/>
               </HBox>
               
               <HBox spacing="10" alignment="CENTER_LEFT">
                  <Label text="Ê≥®ÂÜåÊó∂Èó¥Ôºö" styleClass="user-info-label" prefWidth="80"/>
                  <Label fx:id="dialogRegisterTime" styleClass="user-info-value"/>
               </HBox>
            </VBox>
            
            <Button fx:id="closeDialogButton" mnemonicParsing="false" onAction="#handleCloseDialog"
                    styleClass="personal-info-button">
               <text>ÂÖ≥Èó≠</text>
            </Button>
         </VBox>
      </content>
   </DialogPane>
   
   <!-- ‰ø°ÊÅØÊòæÁ§∫Ê†áÁ≠æ -->
   <Label fx:id="messageLabel" visible="false" styleClass="success-message"
          AnchorPane.bottomAnchor="20.0" AnchorPane.rightAnchor="20.0"/>
</AnchorPane>
