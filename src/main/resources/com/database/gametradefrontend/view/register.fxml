<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Line?>
<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity"
			prefHeight="700.0" prefWidth="1000.0" stylesheets="@styles/register.css" xmlns="http://javafx.com/javafx/21"
			xmlns:fx="http://javafx.com/fxml/1"
			fx:controller="com.database.gametradefrontend.controller.RegisterController">
	<!-- 主分割面板：左边海报，右边注册表单 -->
	<SplitPane dividerPositions="0.4" prefHeight="700.0" prefWidth="1000.0"
			   AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0"
			   AnchorPane.topAnchor="0.0">
			<!-- 左边海报区域 - 写意风格设计 -->
			<VBox alignment="CENTER" prefWidth="400.0"
				  style="-fx-background-color: linear-gradient(to bottom right, #667eea, #764ba2);">
				<padding>
					<Insets bottom="60.0" left="40.0" right="40.0" top="60.0"/>
				</padding>
				<!-- 抽象图形元素 -->
				<StackPane>
					<!-- 背景圆形 -->
					<Circle radius="120" fill="radial-gradient(center 50% 50%, radius 70%, rgba(255,255,255,0.2), rgba(255,255,255,0.05))"/>
					<!-- 装饰线条 -->
					<Line startX="-80" startY="0" endX="80" endY="0" stroke="rgba(255,255,255,0.3)" strokeWidth="2"/>
					<Line startX="0" startY="-80" endX="0" endY="80" stroke="rgba(255,255,255,0.3)" strokeWidth="2"/>
					<!-- 中心点 -->
					<Circle radius="8" fill="rgba(255,255,255,0.8)"/>
				</StackPane>
				
				<!-- 主标题 -->
				<Label text="GameTrade" textFill="WHITE"
					   style="-fx-font-size: 42px; -fx-font-weight: 900; -fx-font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 8, 0.3, 0, 2);">
					<padding>
						<Insets top="40.0"/>
					</padding>
				</Label>
				
				<!-- 副标题 -->
				<Label text="游戏交易平台" textFill="rgba(255,255,255,0.9)"
					   style="-fx-font-size: 24px; -fx-font-weight: 300; -fx-font-family: 'Microsoft YaHei', sans-serif;">
					<padding>
						<Insets top="10.0"/>
					</padding>
				</Label>
				
				<!-- 特色标签 -->
				<HBox alignment="CENTER" spacing="20.0" style="-fx-padding: 20 0 0 0;">
					<VBox alignment="CENTER" spacing="5.0">
						<Circle radius="4" fill="rgba(255,255,255,0.8)"/>
						<Label text="安全" textFill="rgba(255,255,255,0.8)" style="-fx-font-size: 12px; -fx-font-weight: 300;"/>
					</VBox>
					<VBox alignment="CENTER" spacing="5.0">
						<Circle radius="4" fill="rgba(255,255,255,0.8)"/>
						<Label text="便捷" textFill="rgba(255,255,255,0.8)" style="-fx-font-size: 12px; -fx-font-weight: 300;"/>
					</VBox>
					<VBox alignment="CENTER" spacing="5.0">
						<Circle radius="4" fill="rgba(255,255,255,0.8)"/>
						<Label text="高效" textFill="rgba(255,255,255,0.8)" style="-fx-font-size: 12px; -fx-font-weight: 300;"/>
					</VBox>
				</HBox>
				
				<!-- 装饰性文字 -->
				<Label text="开启您的游戏交易之旅" textFill="rgba(255,255,255,0.6)"
					   style="-fx-font-size: 14px; -fx-font-style: italic; -fx-font-weight: 200;">
					<padding>
						<Insets top="30.0"/>
					</padding>
				</Label>
			</VBox>

		<!-- 右边注册表单区域 -->
		<VBox alignment="TOP_CENTER" prefWidth="600.0" style="-fx-background-color: #f8f9fa;">
			<!-- 标题区域 -->
			<VBox alignment="CENTER" prefHeight="100.0" prefWidth="600.0"
				  style="-fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
				<Label text="用户注册"
					   style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;">
					<font>
						<Font name="System Bold" size="32.0"/>
					</font>
					<padding>
						<Insets top="20.0"/>
					</padding>
				</Label>
				<Label text="创建您的游戏交易账户" style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d;">
					<padding>
						<Insets bottom="20.0" top="5.0"/>
					</padding>
				</Label>
			</VBox>

			<!-- 注册表单内容区域 -->
			<VBox alignment="TOP_CENTER" prefHeight="600.0" prefWidth="600.0" VBox.vgrow="ALWAYS">
				<!-- 角色选择区域 -->
				<HBox alignment="CENTER" spacing="30.0"
					  style="-fx-background-color: white; -fx-padding: 20;">
					<Label text="选择角色类型："
						   style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
					<RadioButton fx:id="buyerRadio" mnemonicParsing="false" text="买家"
								 style="-fx-font-size: 14px;"/>
					<RadioButton fx:id="vendorRadio" mnemonicParsing="false" text="供应商"
								 style="-fx-font-size: 14px;"/>
				</HBox>

				<!-- 共享基本信息区域 -->
				<VBox alignment="TOP_CENTER" spacing="15.0"
					  style="-fx-background-color: white; -fx-padding: 30;">
					<GridPane hgap="15.0" vgap="15.0">
						<columnConstraints>
							<ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0"/>
							<ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="200.0"/>
							<ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="50.0"/>
						</columnConstraints>
						<rowConstraints>
							<RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
							<RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
							<RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
							<RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
						</rowConstraints>
						<Label text="账号：" style="-fx-font-size: 14px; -fx-font-weight: bold;"
							   GridPane.columnIndex="0" GridPane.rowIndex="0"/>
						<TextField fx:id="accountField"
								   promptText="请输入账号（3-50位字母、数字、下划线）"
								   GridPane.columnIndex="1" GridPane.rowIndex="0"/>
						<Label fx:id="accountStatusLabel" text="✓" textFill="#27ae60" visible="false"
							   GridPane.columnIndex="2" GridPane.rowIndex="0"/>

						<Label text="密码：" style="-fx-font-size: 14px; -fx-font-weight: bold;"
							   GridPane.columnIndex="0" GridPane.rowIndex="1"/>
						<PasswordField fx:id="passwordField"
									   promptText="请输入密码（8-100位，包含大小写字母和数字）"
									   GridPane.columnIndex="1" GridPane.rowIndex="1"/>
						<Label fx:id="passwordStatusLabel" text="✓" textFill="#27ae60"
							   visible="false" GridPane.columnIndex="2" GridPane.rowIndex="1"/>

						<Label text="确认密码：" style="-fx-font-size: 14px; -fx-font-weight: bold;"
							   GridPane.columnIndex="0" GridPane.rowIndex="2"/>
						<PasswordField fx:id="confirmPasswordField" promptText="请再次输入密码"
									   GridPane.columnIndex="1" GridPane.rowIndex="2"/>
						<Label fx:id="confirmPasswordStatusLabel" text="✓" textFill="#27ae60"
							   visible="false" GridPane.columnIndex="2" GridPane.rowIndex="2"/>

						<Label text="联系方式：" style="-fx-font-size: 14px; -fx-font-weight: bold;"
							   GridPane.columnIndex="0" GridPane.rowIndex="3"/>
						<TextField fx:id="contactField" promptText="手机号或邮箱"
								   GridPane.columnIndex="1" GridPane.rowIndex="3"/>
						<Label fx:id="contactStatusLabel" text="✓" textFill="#27ae60" visible="false"
							   GridPane.columnIndex="2" GridPane.rowIndex="3"/>
					</GridPane>

					<!-- 共享错误信息显示区域 -->
					<VBox alignment="CENTER_LEFT" spacing="5.0" style="-fx-padding: 10 0 0 0;">
						<Label fx:id="accountErrorLabel"
							   style="-fx-text-fill: #e74c3c; -fx-font-size: 12px;"
							   visible="false"/>
						<Label fx:id="passwordErrorLabel"
							   style="-fx-text-fill: #e74c3c; -fx-font-size: 12px;"
							   visible="false"/>
						<Label fx:id="confirmPasswordErrorLabel"
							   style="-fx-text-fill: #e74c3c; -fx-font-size: 12px;" visible="false"/>
						<Label fx:id="contactErrorLabel"
							   style="-fx-text-fill: #e74c3c; -fx-font-size: 12px;"
							   visible="false"/>
					</VBox>
				</VBox>

				<!-- TabPane分页表单（角色特定信息） -->
				<TabPane fx:id="formTabPane" prefHeight="300.0" prefWidth="600.0"
						 tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
					<!-- 买家注册页 -->
					<Tab text="买家信息">
						<ScrollPane fitToWidth="true" hbarPolicy="NEVER">
							<VBox alignment="TOP_CENTER" spacing="15.0" style="-fx-padding: 30;">
								<!-- 买家特定信息区域 -->
								<GridPane hgap="15.0" vgap="15.0">
									<columnConstraints>
										<ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"
														   prefWidth="100.0"/>
										<ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"
														   prefWidth="200.0"/>
										<ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"
														   prefWidth="50.0"/>
									</columnConstraints>
									<rowConstraints>
										<RowConstraints minHeight="10.0" prefHeight="30.0"
														vgrow="SOMETIMES"/>
									</rowConstraints>
									<Label text="昵称："
										   style="-fx-font-size: 14px; -fx-font-weight: bold;"
										   GridPane.columnIndex="0" GridPane.rowIndex="0"/>
									<TextField fx:id="nicknameField" promptText="请输入昵称"
											   GridPane.columnIndex="1" GridPane.rowIndex="0"/>
									<Label fx:id="nicknameStatusLabel" text="✓" textFill="#27ae60"
										   visible="false" GridPane.columnIndex="2"
										   GridPane.rowIndex="0"/>
								</GridPane>

								<!-- 买家错误信息显示区域 -->
								<VBox alignment="CENTER_LEFT" spacing="5.0"
									  style="-fx-padding: 10 0 0 0;">
									<Label fx:id="nicknameErrorLabel"
										   style="-fx-text-fill: #e74c3c; -fx-font-size: 12px;"
										   visible="false"/>
								</VBox>
							</VBox>
						</ScrollPane>
					</Tab>

					<!-- 供应商注册页 -->
					<Tab text="供应商信息">
						<ScrollPane fitToWidth="true" hbarPolicy="NEVER">
							<VBox alignment="TOP_CENTER" spacing="15.0" style="-fx-padding: 30;">
								<!-- 供应商特定信息区域 -->
								<GridPane hgap="15.0" vgap="15.0">
									<columnConstraints>
										<ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"
														   prefWidth="100.0"/>
										<ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"
														   prefWidth="200.0"/>
										<ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"
														   prefWidth="50.0"/>
									</columnConstraints>
									<rowConstraints>
										<RowConstraints minHeight="10.0" prefHeight="30.0"
														vgrow="SOMETIMES"/>
										<RowConstraints minHeight="10.0" prefHeight="30.0"
														vgrow="SOMETIMES"/>
										<RowConstraints minHeight="10.0" prefHeight="30.0"
														vgrow="SOMETIMES"/>
									</rowConstraints>
									<Label text="企业名称："
										   style="-fx-font-size: 14px; -fx-font-weight: bold;"
										   GridPane.columnIndex="0" GridPane.rowIndex="0"/>
									<TextField fx:id="companyNameField" promptText="请输入企业全称"
											   GridPane.columnIndex="1" GridPane.rowIndex="0"/>
									<Label fx:id="companyNameStatusLabel" text="✓" textFill="#27ae60"
										   visible="false" GridPane.columnIndex="2"
										   GridPane.rowIndex="0"/>

									<Label text="注册地址："
										   style="-fx-font-size: 14px; -fx-font-weight: bold;"
										   GridPane.columnIndex="0" GridPane.rowIndex="1"/>
									<TextField fx:id="registeredAddressField"
											   promptText="请输入企业注册地址"
											   GridPane.columnIndex="1" GridPane.rowIndex="1"/>
									<Label fx:id="registeredAddressStatusLabel" text="✓"
										   textFill="#27ae60" visible="false"
										   GridPane.columnIndex="2" GridPane.rowIndex="1"/>

									<Label text="联系人："
										   style="-fx-font-size: 14px; -fx-font-weight: bold;"
										   GridPane.columnIndex="0" GridPane.rowIndex="2"/>
									<TextField fx:id="contactPersonField"
											   promptText="请输入联系人姓名" GridPane.columnIndex="1"
											   GridPane.rowIndex="2"/>
									<Label fx:id="contactPersonStatusLabel" text="✓"
										   textFill="#27ae60" visible="false"
										   GridPane.columnIndex="2" GridPane.rowIndex="2"/>
								</GridPane>

								<!-- 供应商错误信息显示区域 -->
								<VBox alignment="CENTER_LEFT" spacing="5.0"
									  style="-fx-padding: 10 0 0 0;">
									<Label fx:id="companyNameErrorLabel"
										   style="-fx-text-fill: #e74c3c; -fx-font-size: 12px;"
										   visible="false"/>
									<Label fx:id="registeredAddressErrorLabel"
										   style="-fx-text-fill: #e74c3c; -fx-font-size: 12px;"
										   visible="false"/>
									<Label fx:id="contactPersonErrorLabel"
										   style="-fx-text-fill: #e74c3c; -fx-font-size: 12px;"
										   visible="false"/>
								</VBox>
							</VBox>
						</ScrollPane>
					</Tab>
				</TabPane>

					<!-- 注册按钮区域 -->
					<VBox alignment="CENTER" spacing="15.0"
						  style="-fx-background-color: white; -fx-padding: 20;">
						<Button fx:id="registerButton" mnemonicParsing="false" onAction="#handleRegister"
								prefHeight="40.0" prefWidth="200.0"
								style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 5;"
								text="立即注册"/>
						<HBox alignment="CENTER" spacing="5.0">
							<Label text="已有账户？" style="-fx-text-fill: #7f8c8d;"/>
							<Hyperlink onAction="#switchToLogin" text="立即登录"
									   style="-fx-text-fill: #3498db; -fx-font-weight: bold;"/>
						</HBox>
						<!-- 返回按钮 -->
						<Button mnemonicParsing="false" onAction="#switchToWelcome" 
								prefHeight="35.0" prefWidth="120.0"
								style="-fx-background-color: transparent; -fx-text-fill: #7f8c8d; -fx-border-color: #bdc3c7; -fx-border-width: 1px; -fx-border-radius: 3px;"
								text="返回首页"/>
					</VBox>
			</VBox>
		</VBox>
	</SplitPane>
</AnchorPane>
